<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Tags for Bootstrap 5 -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <title>EspNet</title>
</head>
<script src="/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<body>
  <main>
    <div class = "d-flex justify-content-center flex-row bg-secondary">
    <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark mr-auto" style="width: 280px;height: 100vh;">
      <span class="fs-4 text-center">Menu</span>
      <hr>
      <ul class="list-unstyled ps-0">
        <li class="mb-1">
          <button class="btn btn-toggle align-items-left text-white rounded collapsed" data-bs-toggle="collapse"
            data-bs-target="#device-collapse" aria-expanded="false">
            Devices
          </button>
          <div class="collapse" id="device-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              {{#each rowsDev}}
              <li><a href="/chart?espId={{this.espId}}&devName={{this.devName}}" class="nav-link text-white rounded">{{this.espId}}_{{this.devName}}</a></li>
              {{/each}}
            </ul>
          </div>
        </li>
        <li class="mb-1">
          <button class="btn btn-toggle align-items-left text-white rounded collapsed" data-bs-toggle="collapse"
            data-bs-target="#rules-collapse" aria-expanded="false">
            Rules
          </button>
          <div class="collapse" id="rules-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
              {{#each rowsRules}}
                <li><a href="/rules?ruleName={{this.ruleName}}" class="nav-link text-white rounded">{{this.ruleName}}</a></li>
              {{/each}}
              <li><a href="/rules_new" class="nav-link text-white rounded">Create new rule</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <div class="d-flex flex-column flex-sm-grow p-4" style="min-width: 80%;">
      {{{body}}}
    </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
</body>

</html>